{# Tabella segnali non eseguiti con link dettagliato diagnostics #}
{% if unexecuted_signals %}
  <h3>Segnali BUY/SELL non eseguiti (ultimi 20)</h3>
  <table class="table table-striped table-sm">
    <thead>
      <tr>
        <th>Timestamp</th>
        <th>Simbolo</th>
        <th>Segnale</th>
        <th>Motivo Blocco</th>
        <th>Parametro non soddisfatto</th>
        <th>Dettagli tecnici</th>
        <th>Dettaglio</th>
      </tr>
    </thead>
    <tbody>
      {% for s in unexecuted_signals %}
      <tr>
        <td>{{ s.timestamp }}</td>
        <td>{{ s.symbol }}</td>
        <td>{{ s.direction }}</td>
        <td>{{ s.motivo_blocco or '' }}</td>
        <td>{{ s.parametro_non_soddisfatto or '' }}</td>
        <td>{{ s.dettagli_tecnici or '' }}</td>
        <td>
          {% if s.dettagli_link %}
            <a href="{{ s.dettagli_link }}" class="btn btn-sm btn-outline-info" title="Vai al dettaglio su diagnostics" target="_blank">
              Dettaglio
            </a>
          {% endif %}
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
{% else %}
  <div class="alert alert-info">Nessun segnale BUY/SELL non eseguito trovato.</div>
{% endif %}
